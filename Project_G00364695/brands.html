<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Our Brands</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://d3js.org/d3.v5.min.js"></script>
  
<style>
/* styling to fill as red when hovering the mouse */ 
rect:hover{
    fill:red;
}

chartdiv:hover{
    fill:red;
}

/*  Making style changes to div class "chart" */
.chart {
  margin: auto
  padding: 20px;
} 

/*  Making style changes to div class "chartdiv" */
div.chartdiv {
  margin: auto;
  width: 600px;
  height: 400px;
} 
</style>
   
<!-- Resources for Piegraph -->
<script src="https://www.amcharts.com/lib/4/core.js"></script>
<script src="https://www.amcharts.com/lib/4/charts.js"></script>
<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
   
</head>
<body>

  <!-- Navigation bar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
    <div class="container">
      <a class="navbar-brand" href="index.html">Airsoft Ireland</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="index.html">Home
              <span class="sr-only">(current)</span>
            </a>
			  <!-- Navigation bar links to pages -->
          </li>
          <li class="nav-item">
            <a class="nav-link" href="login.html">Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="store.html">Our Store</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="brands.html">Brands</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Page Content -->
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h1 class="mt-5">Our Brands</h1>
        <p class="lead">Airsoft brands we work with</p>
			<p> Here at Ireland Airsoft, we care about our customers, for this reason, we have taken a long research and checking nearly a hundred different companies until we could find the best brands for Airsoft guns in the market. Along the way, however, we realized that the companies were split into two categories â€“ budget brands and performance brands. Most people are looking for one or the other, so in our Shops, you are able to find great guns for every budget.</p>
			<p>In order to make it easier for you while shopping for your perfect gun, we have broken down below all our brands into Customer satisfaction and Average price.</p>
		<br>
		<p class="lead">Top Brands by Customer satisfaction:</p>
		<br>

<script>
 // Function for Pie Chart
 am4core.ready(function() {

// Theme
am4core.useTheme(am4themes_animated);

// Creating chart variable
var chart = am4core.create("chartdiv", am4charts.PieChart);

// Adding the data from an array
chart.data = [ {
  "Brand": "G&G",
  "Customer Satisfaction": 9
}, {
  "Brand": "UK Arms",
  "Customer Satisfaction": 7
}, {
  "Brand": "Tokyo Marui",
  "Customer Satisfaction": 10
}, {
  "Brand": "Wellfire",
  "Customer Satisfaction": 5
}, {
  "Brand": "ICS",
  "Customer Satisfaction": 6
}, {
  "Brand": "Cybergun",
  "Customer Satisfaction": 6
}, {
  "Brand": "Cyma",
  "Customer Satisfaction": 6
}, {
  "Brand": "Umarex",
  "Customer Satisfaction": 4
}, {
  "Brand": "APS",
  "Customer Satisfaction": 5
} ];

// Add and configure Series
var pieSeries = chart.series.push(new am4charts.PieSeries());
pieSeries.dataFields.value = "Customer Satisfaction";
pieSeries.dataFields.category = "Brand";
pieSeries.slices.template.stroke = am4core.color("#fff");
pieSeries.slices.template.strokeWidth = 2;
pieSeries.slices.template.strokeOpacity = 1;

// Creating initial animation
pieSeries.hiddenState.properties.opacity = 1;
pieSeries.hiddenState.properties.endAngle = -90;
pieSeries.hiddenState.properties.startAngle = -90;

}); // end of function
</script>
<div class="chartdiv"></div>

  <!-- Adding more page content -->
<br>
<p>As you can see, from our researches, we found out that most people have a higher satisfaction with G&G, Tokyo Marui and UK Arms, but please take note that all other brands listed here are all of great quality, but we have broken down the top ones to make it easier for your purchase.</p>
<img src="images/gg.png" title="G&G" width="150" height="150">
<img src="images/tokyo.jpg" title="Tokyo Marui" width="150" height="100">
<img src="images/ukarms.jpg" title="UK ARMS" width="150" height="150">
<br>
<p>Along with customer satisfaction, budget is an important variable, as you might be looking for the best gun in the market, or you could be looking for the best bang for your buck, and if that's the case, the most cheap guns are: Wellfare, ICS, Cybergun, if you click below in "Create Chart you will be able to see it all our brands listed in a Graph per average price.</p>
<br>
	<p class="lead">Top Brands by Average Price:</p>
	<br>
	
<!-- AvgPrice Graph -->
	
<div class="chart">
	<!-- Giving the option for user to choose chart height and color -->
Chart height:
<select name="" id="chartHeight">
    <option value="200">200 pixels</option>
    <option value="400">400 pixels</option>
    <option value="800">800 pixels</option>
</select>
Chart color:
<input type="color" id="colorPicker">
<button onclick="drawChart()">Draw Chart</button>

<br>
<br>
  <div id="myDiv"></div>

</div>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.slim.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

</body>

	<!-- Function necessary for AvgPrice Graph -->
<script type="text/javascript">
function drawChart(){
     // import the airsoft data from csv
     d3.csv("airsoft.csv").then(function(data) {
     console.log(data);
 
     // values for bar chart
     var height = document.getElementById('chartHeight').value;
     var width = 600;
     var dataCount = data.length;
     var gap = 2;
     var chartColor = document.getElementById('colorPicker').value;
	 
     //convert to numbers for d3.max to work properly in scaling
     data.forEach(function(d){
       d.AvgPrice = Number(d.AvgPrice);
     })
	 
     // create a scale for y
     var yScale =d3.scaleLinear()
       .domain([0,d3.max(data, function(d){
         return d.AvgPrice;
       })])
       .range([height,0]);
	   
      // create a scale for x
      var xScale = d3.scaleBand()
          .domain(data.map(function(d){
              return d.Brand;
          }))
          .range([0, width])
		  
     //create y Axis
     var yAxis = d3.axisLeft()
	 
         .scale(yScale)
         //create y Axis
    var xAxis = d3.axisBottom()
         .scale(xScale);
 
    //removes previous code
    d3.select("#myDiv").selectAll("*").remove();
	
     // create the svg container using d3 select, append svg to div above
     let svgContainer = d3.select("#myDiv").append("svg")
     .attr("width", 1000)
     .attr("height", 1000);
	 
     //ceate a rectangle
     var myRectangle = svgContainer.selectAll("rect")
       .data(data);
	   
     //add attributes to rectangle
     myRectangle.enter()
       .append("rect")
         .attr("x",function(d,i){
           return (50+(i*(width/dataCount)));
           })
         .attr("y",function(d){
             return yScale(d.AvgPrice);
           })
         .attr("width",(width/dataCount -gap))
		 
		 // start transition for animation
		 .transition()
         .duration(1200)
         .attr("height",function(d){
             return height-yScale(d.AvgPrice);
           })
         .attr("fill",chartColor);
		 
     //To ensure that the axis is shown on top we do it here after the bars are drawn
     //We will be appending "svgContainer" declared above on line 28
     svgContainer.append("g")
       .attr("transform", "translate(45,0)")
       .call(yAxis);
 
     svgContainer.append("g")
       .attr("transform", "translate(50," +height+")")
       .call(xAxis)
       .selectAll("text")
           .attr("transform", "rotate(60)")
           .attr("text-anchor", "start")
           .attr("x", "9")
           .attr("y", "3");
     });
 }
 
   </script>

      </div>
    </div>
  </div>

<body>

</html>
